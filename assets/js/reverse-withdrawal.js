!function(e,t,a){const r={init(){this.init_datepicker(),e(".reverse-balance-section").on("click","#reverse_pay",r.add_to_cart)},init_datepicker(){let t={format:dokan_get_daterange_picker_format(),...dokan_helper.daterange_picker_local};e("#trn_date_filter").daterangepicker({autoUpdateInput:!1,locale:t},(function(a,r,n){e("#trn_date_filter").on("apply.daterangepicker",(function(a,r){e(this).val(r.startDate.format(t.format)+" - "+r.endDate.format(t.format))})),e("#trn_date_form_filter_alt").val(a.format("YYYY-MM-DD")),e("#trn_date_to_filter_alt").val(r.format("YYYY-MM-DD"))})),e("#trn_date_filter").on("cancel.daterangepicker",(function(t,a){e(this).val(""),e("#trn_date_form_filter_alt").val(""),e("#trn_date_to_filter_alt").val("")}))},add_to_cart(){e(this);let t=e("#reverse_pay_balance");r.disableProps();let n={price:t.val(),_reverse_withdrawal_nonce:dokan.reverse_withdrawal.nonce};wp.ajax.post("dokan_reverse_withdrawal_payment_to_cart",n).then((async e=>{let t={action:"confirm",title:dokan.reverse_withdrawal.on_success_title,icon:"success",showCloseButton:!1,showCancelButton:!1,focusConfirm:!0};await dokan_sweetalert(e.message,t).then((()=>{a.location.replace(dokan.reverse_withdrawal.checkout_url)}))})).fail((e=>{r.disableProps(!1);let t=dokan_handle_ajax_error(e);t&&dokan_sweetalert(t,{action:"error",title:dokan.reverse_withdrawal.on_error_title,icon:"error"})}))},disableProps(t=!0){e("#reverse_pay_balance").prop("disabled",t),e("#reverse_pay").prop("disabled",t)}};e((function(){r.init()}))}(jQuery,document,window);