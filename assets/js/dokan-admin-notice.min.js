dokanWebpack([4],{1:function(t,n){t.exports=jQuery},17:function(t,n,e){"use strict";var i=e(2),s=e(18),a=e(0)(i.a,s.a,!1,null,null,null);a.options.__file="src/admin/components/AdminNotice.vue",n.a=a.exports},18:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"notice dokan-admin-notices-wrap"},[t.notices&&t.notices.length?e("div",{staticClass:"dokan-admin-notices"},[e("transition-group",{staticClass:"dokan-notice-slides",attrs:{name:t.transitionName,tag:"div"}},[t._l(t.notices,function(n,i){return[e("div",{directives:[{name:"show",rawName:"v-show",value:i+1===t.current_notice,expression:"(index + 1) === current_notice"}],key:i,staticClass:"dokan-admin-notice",class:"dokan-"+n.type,on:{mouseenter:t.stopAutoSlide,mouseleave:t.startAutoSlide}},[e("div",{staticClass:"notice-content",style:n.title&&n.actions&&n.description?"":"align-items: center"},[e("div",{staticClass:"logo-wrap"},[e("div",{staticClass:"dokan-logo"}),t._v(" "),e("span",{staticClass:"dokan-icon",class:"dokan-icon-"+n.type})]),t._v(" "),e("div",{staticClass:"dokan-message"},[n.title?e("h3",[t._v(t._s(n.title))]):t._e(),t._v(" "),n.description?e("div",{domProps:{innerHTML:t._s(n.description)}}):t._e(),t._v(" "),n.actions&&n.actions.length?[t._l(n.actions,function(n){return[n.action?e("a",{staticClass:"dokan-btn",class:["dokan-btn-"+n.type,n.class],attrs:{target:n.target?n.target:"_self",href:n.action}},[t._v(t._s(n.text))]):e("button",{staticClass:"dokan-btn btn-dokan",class:["dokan-btn-"+n.type,n.class],attrs:{disabled:t.loading},on:{click:function(e){return t.handleAction(n,i)}}},[t._v(t._s(t.loading||t.task_completed?t.button_text:n.text))])]})]:t._e()],2),t._v(" "),n.show_close_button&&n.close_url?e("a",{staticClass:"close-notice",attrs:{href:n.close_url}},[e("span",{staticClass:"dashicons dashicons-no-alt"})]):t._e(),t._v(" "),n.show_close_button&&n.ajax_data?e("button",{staticClass:"close-notice",attrs:{disabled:t.loading},on:{click:function(e){return t.hideNotice(n,i)}}},[e("span",{staticClass:"dashicons dashicons-no-alt"})]):t._e()])])]})],2),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.notices.length>1,expression:"notices.length > 1"}],staticClass:"slide-notice"},[e("span",{staticClass:"prev",class:{active:t.current_notice>1},on:{click:function(n){return t.prevNotice()}}},[e("svg",{attrs:{width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M0.791129 6.10203L6.4798 0.415254C6.72942 0.166269 7.13383 0.166269 7.38408 0.415254C7.63369 0.664239 7.63369 1.06866 7.38408 1.31764L2.14663 6.5532L7.38345 11.7888C7.63306 12.0377 7.63306 12.4422 7.38345 12.6918C7.13383 12.9408 6.72879 12.9408 6.47917 12.6918L0.790498 7.005C0.544665 6.75859 0.544666 6.34781 0.791129 6.10203Z",fill:"#DADFE4"}})])]),t._v(" "),e("span",{staticClass:"notice-count"},[e("span",{staticClass:"current-notice",class:{active:t.current_notice>1}},[t._v(t._s(t.current_notice))]),t._v(" of "),e("span",{staticClass:"total-notice",class:{active:t.current_notice<t.notices.length}},[t._v(t._s(t.notices.length))])]),t._v(" "),e("span",{staticClass:"next",class:{active:t.current_notice<t.notices.length},on:{click:function(n){return t.nextNotice()}}},[e("svg",{attrs:{width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M7.43934 6.10203L1.75067 0.415254C1.50105 0.166269 1.09664 0.166269 0.846391 0.415254C0.596776 0.664239 0.596776 1.06866 0.846391 1.31764L6.08384 6.5532L0.847021 11.7888C0.597406 12.0377 0.597406 12.4422 0.847021 12.6918C1.09664 12.9408 1.50168 12.9408 1.7513 12.6918L7.43997 7.005C7.6858 6.75859 7.6858 6.34781 7.43934 6.10203Z",fill:"#DADFE4"}})])])])],1):t._e()])};i._withStripped=!0;var s={render:i,staticRenderFns:[]};n.a=s},2:function(t,n,e){"use strict";var i=e(1),s=e.n(i);n.a={name:"AdminNotice",props:{endpoint:{type:String,default:"admin"},interval:{type:Number,default:5e3}},data:function(){return{timer:null,notices:[],loading:!1,button_text:"",current_notice:1,task_completed:!1,transitionName:"slide-next"}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;dokan.api.get("/admin/notices/".concat(this.endpoint)).done(function(n){t.notices=n.filter(function(t){return t.description||t.title}),t.startAutoSlide()})},slideNotice:function(t){this.current_notice+=t,this.transitionName=1===t?"slide-next":"slide-prev";var n=this.notices.length;this.current_notice<1&&(this.current_notice=n),this.current_notice>n&&(this.current_notice=1)},nextNotice:function(){this.stopAutoSlide(),this.slideNotice(1)},prevNotice:function(){this.stopAutoSlide(),this.slideNotice(-1)},startAutoSlide:function(){var t=this;!this.loading&&this.notices.length>1&&(this.timer=setInterval(function(){t.slideNotice(1)},this.interval))},stopAutoSlide:function(){!this.loading&&this.notices.length>1&&(clearInterval(this.timer),this.timer=null)},hideNotice:function(t,n){var e=this;s.a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:t.ajax_data}).done(function(){e.notices.splice(n,1),e.current_notice=1})},handleAction:function(t,n){var e=this;t.confirm_message?this.$swal({title:this.__("Are you sure?","dokan-lite"),type:"warning",html:t.confirm_message,showCancelButton:!0,confirmButtonText:t.text,cancelButtonText:this.__("Cancel","dokan-lite")}).then(function(i){i.value&&e.handleRequest(t,n)}):this.handleRequest(t,n)},handleRequest:function(t,n){var e=this;this.loading=!0,this.button_text=t.loading_text?t.loading_text:this.__("Loading...","dokan-lite"),s.a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:t.ajax_data}).always(function(){e.loading=!1}).done(function(){e.button_text=t.completed_text?t.completed_text:t.text,e.task_completed=!0,t.reload?window.location.reload():(e.notices.splice(n,1),e.current_notice=1)})}}}},260:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(261),s=e(1),a=e.n(s),o=dokan_get_lib("Vue");a()("#dokan-admin-notices").length&&new o({el:"#dokan-admin-notices",render:function(t){return t(i.a)},created:function(){this.setLocaleData(dokan.i18n["dokan-lite"])}})},261:function(t,n,e){"use strict";var i=e(94),s=e(262),a=e(0)(i.a,s.a,!1,null,null,null);a.options.__file="src/notice/App.vue",n.a=a.exports},262:function(t,n,e){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("AdminNotice",{attrs:{endpoint:"global"}})};i._withStripped=!0;var s={render:i,staticRenderFns:[]};n.a=s},94:function(t,n,e){"use strict";var i=e(17);n.a={name:"App",components:{AdminNotice:i.a}}}},[260]);