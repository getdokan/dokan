dokanWebpack([3],{1:function(t,e){t.exports=jQuery},17:function(t,e,n){"use strict";var i=n(2),s=n(18),a=n(0)(i.a,s.a,!1,null,null,null);a.options.__file="src/admin/components/AdminNotice.vue",e.a=a.exports},18:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notice dokan-admin-notices-wrap"},[t.notices&&t.notices.length?n("div",{staticClass:"dokan-admin-notices"},[n("transition-group",{staticClass:"dokan-notice-slides",attrs:{name:t.transitionName,tag:"div"}},[t._l(t.notices,function(e,i){return[n("div",{directives:[{name:"show",rawName:"v-show",value:i+1===t.current_notice,expression:"(index + 1) === current_notice"}],key:i,staticClass:"dokan-admin-notice",class:"dokan-"+e.type,on:{mouseenter:t.stopAutoSlide,mouseleave:t.startAutoSlide}},[n("div",{staticClass:"notice-content",style:e.title&&e.actions&&e.description?"align-items: start":"align-items: center"},[n("div",{staticClass:"logo-wrap"},[n("div",{staticClass:"dokan-logo"}),t._v(" "),n("span",{staticClass:"dokan-icon",class:"dokan-icon-"+e.type})]),t._v(" "),n("div",{staticClass:"dokan-message"},[e.title?n("h3",[t._v(t._s(e.title))]):t._e(),t._v(" "),e.description?n("div",{domProps:{innerHTML:t._s(e.description)}}):t._e(),t._v(" "),e.actions&&e.actions.length?[t._l(e.actions,function(e){return[e.action?n("a",{staticClass:"dokan-btn",class:["dokan-btn-"+e.type,e.class],attrs:{target:e.target?e.target:"_self",href:e.action}},[t._v(t._s(e.text))]):n("button",{staticClass:"dokan-btn btn-dokan",class:["dokan-btn-"+e.type,e.class],attrs:{disabled:t.loading},on:{click:function(n){return t.handleAction(e,i)}}},[t._v(t._s(t.loading||t.task_completed?t.button_text:e.text))])]})]:t._e()],2),t._v(" "),e.show_close_button&&e.close_url?n("a",{staticClass:"close-notice",attrs:{href:e.close_url}},[n("span",{staticClass:"dashicons dashicons-no-alt"})]):t._e(),t._v(" "),e.show_close_button&&e.ajax_data?n("button",{staticClass:"close-notice",attrs:{disabled:t.loading},on:{click:function(n){return t.hideNotice(e,i)}}},[n("span",{staticClass:"dashicons dashicons-no-alt"})]):t._e()])])]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.notices.length>1,expression:"notices.length > 1"}],staticClass:"slide-notice"},[n("span",{staticClass:"prev",class:{active:t.current_notice>1},on:{click:function(e){return t.prevNotice()}}},[n("svg",{attrs:{width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0.791129 6.10203L6.4798 0.415254C6.72942 0.166269 7.13383 0.166269 7.38408 0.415254C7.63369 0.664239 7.63369 1.06866 7.38408 1.31764L2.14663 6.5532L7.38345 11.7888C7.63306 12.0377 7.63306 12.4422 7.38345 12.6918C7.13383 12.9408 6.72879 12.9408 6.47917 12.6918L0.790498 7.005C0.544665 6.75859 0.544666 6.34781 0.791129 6.10203Z",fill:"#DADFE4"}})])]),t._v(" "),n("span",{staticClass:"notice-count"},[n("span",{staticClass:"current-notice",class:{active:t.current_notice>1}},[t._v(t._s(t.current_notice))]),t._v(" of "),n("span",{staticClass:"total-notice",class:{active:t.current_notice<t.notices.length}},[t._v(t._s(t.notices.length))])]),t._v(" "),n("span",{staticClass:"next",class:{active:t.current_notice<t.notices.length},on:{click:function(e){return t.nextNotice()}}},[n("svg",{attrs:{width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7.43934 6.10203L1.75067 0.415254C1.50105 0.166269 1.09664 0.166269 0.846391 0.415254C0.596776 0.664239 0.596776 1.06866 0.846391 1.31764L6.08384 6.5532L0.847021 11.7888C0.597406 12.0377 0.597406 12.4422 0.847021 12.6918C1.09664 12.9408 1.50168 12.9408 1.7513 12.6918L7.43997 7.005C7.6858 6.75859 7.6858 6.34781 7.43934 6.10203Z",fill:"#DADFE4"}})])])])],1):t._e()])};i._withStripped=!0;var s={render:i,staticRenderFns:[]};e.a=s},2:function(t,e,n){"use strict";var i=n(1),s=n.n(i);e.a={name:"AdminNotice",props:{endpoint:{type:String,default:"admin"},interval:{type:Number,default:5e3}},data:function(){return{timer:null,notices:[],loading:!1,button_text:"",current_notice:1,task_completed:!1,transitionName:"slide-next"}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;dokan.api.get("/admin/notices/".concat(this.endpoint)).done(function(e){t.notices=e.filter(function(t){return t.description||t.title}),t.startAutoSlide()})},slideNotice:function(t){this.current_notice+=t,this.transitionName=1===t?"slide-next":"slide-prev";var e=this.notices.length;this.current_notice<1&&(this.current_notice=e),this.current_notice>e&&(this.current_notice=1)},nextNotice:function(){this.stopAutoSlide(),this.slideNotice(1)},prevNotice:function(){this.stopAutoSlide(),this.slideNotice(-1)},startAutoSlide:function(){var t=this;!this.loading&&this.notices.length>1&&(this.timer=setInterval(function(){t.slideNotice(1)},this.interval))},stopAutoSlide:function(){!this.loading&&this.notices.length>1&&(clearInterval(this.timer),this.timer=null)},hideNotice:function(t,e){var n=this;s.a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:t.ajax_data}).done(function(){n.notices.splice(e,1),n.slideNotice(1)})},handleAction:function(t,e){var n=this;t.confirm_message?this.$swal({title:this.__("Are you sure?","dokan-lite"),type:"warning",html:t.confirm_message,showCancelButton:!0,confirmButtonText:t.text,cancelButtonText:this.__("Cancel","dokan-lite")}).then(function(i){i.value&&n.handleRequest(t,e)}):this.handleRequest(t,e)},handleRequest:function(t,e){var n=this;this.loading=!0,this.button_text=t.loading_text?t.loading_text:this.__("Loading...","dokan-lite"),s.a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:t.ajax_data}).always(function(){n.loading=!1}).done(function(){n.button_text=t.completed_text?t.completed_text:t.text,n.task_completed=!0,t.reload?window.location.reload():(n.notices.splice(e,1),n.slideNotice(1))})}}}},266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(267),s=n(1),a=n.n(s),o=dokan_get_lib("Vue");a()("#dokan-promo-notices").length&&new o({el:"#dokan-promo-notices",render:function(t){return t(i.a)},created:function(){this.setLocaleData(dokan.i18n["dokan-lite"])}})},267:function(t,e,n){"use strict";var i=n(95),s=n(268),a=n(0)(i.a,s.a,!1,null,null,null);a.options.__file="src/promo-notice/App.vue",e.a=a.exports},268:function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("AdminNotice",{attrs:{interval:1e4,endpoint:"promo"}})};i._withStripped=!0;var s={render:i,staticRenderFns:[]};e.a=s},95:function(t,e,n){"use strict";var i=n(17);e.a={name:"App",components:{AdminNotice:i.a}}}},[266]);