import { VendorSocial } from '@dokan/definitions/dokan-vendors';
import { __ } from '@wordpress/i18n';
import { RawHTML } from '@wordpress/element';
import { DokanTooltip as Tooltip } from '@dokan/components';
import { truncate } from "@dokan/utilities";

export interface SocialLinksProps {
    social: VendorSocial;
}

const SocialLinks = ( { social }: SocialLinksProps ) => {
    let socialPlatforms = [
        {
            key: 'fb',
            label: __( 'Facebook', 'dokan-lite' ),
            url: social.fb,
            icon: `<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28.6864 14.9155C28.6864 21.871 23.5903 27.6361 16.9287 28.6812V18.9436H20.1757L20.7935 14.9155H16.9287V12.3016C16.9287 11.1993 17.4687 10.1253 19.1997 10.1253H20.9568V6.696C20.9568 6.696 19.3619 6.42383 17.8372 6.42383C14.6545 6.42383 12.5741 8.35295 12.5741 11.8454V14.9155H9.03588V18.9436H12.5741V28.6812C5.91248 27.6361 0.816406 21.871 0.816406 14.9155C0.816406 7.21965 7.05558 0.980469 14.7514 0.980469C22.4472 0.980469 28.6864 7.21965 28.6864 14.9155Z" fill="#0866FF"/>
<path d="M20.175 18.9416L20.7928 14.9135H16.928V12.2996C16.928 11.1976 17.4679 10.1234 19.1989 10.1234H20.9561V6.69404C20.9561 6.69404 19.3614 6.42188 17.8368 6.42188C14.6537 6.42188 12.5733 8.351 12.5733 11.8435V14.9135H9.03516V18.9416H12.5733V28.6792C13.2828 28.7905 14.01 28.8485 14.7507 28.8485C15.4914 28.8485 16.2185 28.7905 16.928 28.6792V18.9416H20.175Z" fill="white"/>
<circle opacity="0.16" cx="14.7514" cy="14.9155" r="13.935" fill="black"/>
</svg>
`,
        },
        {
            key: 'youtube',
            label: __( 'YouTube', 'dokan-lite' ),
            url: social.youtube,
            icon: `<svg width="28" height="29" viewBox="0 0 28 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0112 28.8505C21.7073 28.8505 27.9462 22.6116 27.9462 14.9155C27.9462 7.21938 21.7073 0.980469 14.0112 0.980469C6.31508 0.980469 0.0761719 7.21938 0.0761719 14.9155C0.0761719 22.6116 6.31508 28.8505 14.0112 28.8505Z" fill="#FF0000"/>
<path d="M18.572 9.67188H9.4519C9.08744 9.67187 8.72655 9.74369 8.38985 9.88322C8.05315 10.0228 7.74725 10.2273 7.48962 10.4851C7.23199 10.7429 7.02769 11.0489 6.88838 11.3857C6.74907 11.7225 6.67749 12.0834 6.67773 12.4479V17.3801C6.67749 17.7446 6.74907 18.1055 6.88838 18.4423C7.02769 18.7791 7.23199 19.0851 7.48962 19.3429C7.74725 19.6007 8.05315 19.8053 8.38985 19.9448C8.72655 20.0843 9.08744 20.1561 9.4519 20.1561H18.572C18.9365 20.1561 19.2973 20.0843 19.634 19.9448C19.9707 19.8053 20.2766 19.6007 20.5343 19.3429C20.7919 19.0851 20.9962 18.7791 21.1355 18.4423C21.2748 18.1055 21.3464 17.7446 21.3462 17.3801V12.4479C21.3464 12.0834 21.2748 11.7225 21.1355 11.3857C20.9962 11.0489 20.7919 10.7429 20.5343 10.4851C20.2766 10.2273 19.9707 10.0228 19.634 9.88322C19.2973 9.74369 18.9365 9.67187 18.572 9.67188ZM12.0794 17.1619V12.6661L15.9445 14.914L12.0794 17.1619Z" fill="white"/>
</svg>
`,
        },
        {
            key: 'twitter',
            label: __( 'Twitter', 'dokan-lite' ),
            url: social.twitter,
            icon: `<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M28.8153 14.9155C28.8153 22.6114 22.5765 28.8505 14.8808 28.8505C7.18414 28.8505 0.945312 22.6114 0.945312 14.9155C0.945312 7.2195 7.18414 0.980469 14.8808 0.980469C22.5765 0.980469 28.8153 7.2195 28.8153 14.9155Z" fill="black"/>
<path d="M8.60949 9.42653C8.61673 9.43735 9.6655 10.8101 10.9421 12.4751L13.2639 15.5038L11.0579 18.0184C9.84452 19.402 8.8518 20.5385 8.8518 20.5439C8.8518 20.5493 9.27312 20.5547 9.79027 20.5547H10.7269L12.4375 18.6065L14.1481 16.6583L14.3814 16.9614C14.508 17.1273 15.13 17.9354 15.7611 18.7598C16.394 19.5824 16.9618 20.3238 17.025 20.4068L17.139 20.5547H19.0358C20.0774 20.5547 20.9308 20.5493 20.9308 20.5403C20.9308 20.533 20.043 19.3587 18.9599 17.93C15.7936 13.7559 16.0775 14.1365 16.1047 14.1022C16.1191 14.0842 17.0377 13.0361 18.1462 11.7698C19.2546 10.5034 20.1732 9.45539 20.1877 9.43735C20.2112 9.40849 20.1587 9.40669 19.2691 9.40669H18.327L16.7683 11.1835C15.9112 12.1612 15.206 12.9603 15.2005 12.9585C15.1951 12.9585 15.1607 12.9207 15.1264 12.8738C15.0902 12.8269 14.4845 12.0277 13.7793 11.0969L12.4972 9.40669H10.5479C9.11399 9.40669 8.60045 9.4121 8.60949 9.42653ZM12.3706 11.0608C12.6093 11.3765 13.7774 12.917 14.9655 14.4846C17.4536 17.7659 18.5168 19.1675 18.629 19.3154L18.7085 19.4182L18.1787 19.4146L17.6489 19.4092L17.3596 19.0304C17.1986 18.8212 15.6634 16.8188 13.9456 14.5802C12.2278 12.3398 10.8228 10.5034 10.8228 10.498C10.8228 10.4926 11.0741 10.489 11.3797 10.489H11.9367L12.3706 11.0608Z" fill="white"/>
</svg>
`,
        },
        {
            key: 'linkedin',
            label: __( 'LinkedIn', 'dokan-lite' ),
            url: social.linkedin,
            icon: `<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.6205 28.8505C22.3166 28.8505 28.5555 22.6116 28.5555 14.9155C28.5555 7.21938 22.3166 0.980469 14.6205 0.980469C6.92446 0.980469 0.685547 7.21938 0.685547 14.9155C0.685547 22.6116 6.92446 28.8505 14.6205 28.8505Z" fill="#007AB9"/>
<path d="M22.9474 16.0356V21.7807H19.6165V16.4207C19.6165 15.0748 19.1356 14.1557 17.9296 14.1557C17.0093 14.1557 16.4625 14.7745 16.2211 15.3736C16.1334 15.5878 16.1108 15.8851 16.1108 16.1854V21.7805H12.7797C12.7797 21.7805 12.8244 12.7023 12.7797 11.7626H16.111V13.1822C16.1043 13.1934 16.0949 13.2043 16.0889 13.215H16.111V13.1822C16.5537 12.5011 17.3431 11.5273 19.113 11.5273C21.3044 11.5273 22.9474 12.9591 22.9474 16.0356ZM9.29505 6.93359C8.15562 6.93359 7.41016 7.68154 7.41016 8.66423C7.41016 9.62605 8.13401 10.3956 9.25133 10.3956H9.27294C10.4347 10.3956 11.1571 9.62605 11.1571 8.66423C11.135 7.68154 10.4347 6.93359 9.29505 6.93359ZM7.60813 21.7807H10.938V11.7626H7.60813V21.7807Z" fill="#F1F2F2"/>
</svg>
`,
        },
        {
            key: 'pinterest',
            label: __( 'Pinterest', 'dokan-lite' ),
            url: social.pinterest,
            icon: `<svg width="28" height="29" viewBox="0 0 28 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.0761719" y="0.851562" width="27.87" height="27.87" rx="13.935" fill="#E94D4B"/>
<path d="M18.4682 7.53553C19.5496 8.346 20.3025 9.51354 20.5041 10.9991H20.5042C20.5857 11.5961 20.6024 12.2001 20.5579 12.7926C20.4513 14.2097 19.9954 15.568 19.2405 16.6189C18.4778 17.6809 17.4109 18.4302 16.0908 18.615C15.7642 18.6607 15.4233 18.6719 15.0689 18.6446H15.0682C14.2739 18.5804 13.8319 18.2703 13.3143 17.9073C13.2139 17.8369 13.1105 17.7644 13.0025 17.6924C12.7973 18.7561 12.5637 19.7928 12.2073 20.71C11.8152 21.7191 11.2753 22.5828 10.4643 23.1796L10.2245 23.3561L10.1831 23.0582C9.82366 20.4742 10.3787 18.3761 10.918 16.3372C11.1043 15.633 11.2887 14.9359 11.4297 14.2424C11.1109 13.6584 11.0269 12.8957 11.1361 12.1748C11.2135 11.6641 11.3877 11.1712 11.6439 10.7749C11.908 10.3665 12.2604 10.0584 12.6869 9.9322C13.0169 9.83467 13.3855 9.84705 13.7846 10.0071V10.0078C15.108 10.5389 14.6462 12.0063 14.1844 13.4729C14.0394 13.9339 13.8942 14.3948 13.8095 14.8242C13.6395 15.6852 13.7371 16.3881 14.696 16.5821V16.5829C15.2326 16.6929 15.7112 16.5904 16.1238 16.3381C16.6917 15.991 17.1412 15.36 17.4515 14.603C17.7672 13.833 17.9371 12.9373 17.9414 12.0756C17.947 10.9389 17.666 9.86713 17.0515 9.23593C16.3605 8.52648 15.5098 8.17168 14.6349 8.1026C13.7904 8.03606 12.9229 8.23407 12.1523 8.63566C11.3805 9.03778 10.7069 9.64288 10.2519 10.3894C9.76077 11.1951 9.52395 12.1671 9.69338 13.2282C9.74437 13.5483 9.89648 13.8023 10.0426 14.0461C10.3658 14.5856 10.6637 15.083 10.0935 16.1058L10.0287 16.2222L9.90018 16.1934C9.00296 15.9927 8.39421 15.5524 8.00476 14.9317C7.62172 14.3211 7.45751 13.5407 7.44336 12.6463V12.642C7.4626 10.953 8.06276 9.45858 9.07174 8.3379C10.0856 7.21173 11.5111 6.46365 13.1733 6.27547C13.3361 6.257 13.5 6.24287 13.6647 6.23337C13.8255 6.22399 13.9891 6.21917 14.1553 6.21877C15.7841 6.21509 17.3134 6.67023 18.4682 7.53553Z" fill="white"/>
</svg>
`,
        },
        {
            key: 'instagram',
            label: __( 'Instagram', 'dokan-lite' ),
            url: social.instagram,
            icon: `<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28.242 14.8407C28.242 7.19024 22.0401 0.988281 14.3896 0.988281C6.73907 0.988281 0.537109 7.19024 0.537109 14.8407C0.537109 22.4912 6.73907 28.6932 14.3896 28.6932C22.0401 28.6932 28.242 22.4912 28.242 14.8407Z" fill="url(#paint0_linear_11540_16667)"/>
<path opacity="0.1" d="M24.8154 5.72418C22.7959 9.43153 19.9397 13.2555 16.3709 16.8244C12.8021 20.3932 8.97806 23.2439 5.27618 25.2634C5.04409 25.0617 4.81868 24.8515 4.59996 24.6328C3.27788 23.3548 2.22346 21.8265 1.49817 20.1368C0.772879 18.4471 0.391241 16.63 0.375507 14.7913C0.359773 12.9526 0.710259 11.1292 1.40653 9.42736C2.10279 7.72553 3.13091 6.17935 4.43092 4.87897C5.73094 3.57859 7.27683 2.55005 8.97847 1.8533C10.6801 1.15656 12.5034 0.805567 14.3421 0.820787C16.1808 0.836008 17.9981 1.21714 19.6879 1.94196C21.3778 2.66677 22.9065 3.72077 24.1848 5.04249C24.4035 5.26121 24.6137 5.48844 24.8154 5.72418Z" fill="white"/>
<path d="M17.6712 7.54688H11.1095C10.046 7.54688 9.02609 7.96935 8.27409 8.72135C7.52208 9.47336 7.09961 10.4933 7.09961 11.5568V18.1185C7.09961 19.182 7.52208 20.2019 8.27409 20.9539C9.02609 21.7059 10.046 22.1284 11.1095 22.1284H17.6712C18.7347 22.1284 19.7547 21.7059 20.5067 20.9539C21.2587 20.2019 21.6811 19.182 21.6811 18.1185V11.5568C21.6811 10.4933 21.2587 9.47336 20.5067 8.72135C19.7547 7.96935 18.7347 7.54688 17.6712 7.54688ZM20.4053 17.5425C20.4053 18.4204 20.0565 19.2623 19.4358 19.883C18.815 20.5038 17.9731 20.8525 17.0953 20.8525H11.6855C10.8076 20.8525 9.96572 20.5038 9.34497 19.883C8.72423 19.2623 8.37549 18.4204 8.37549 17.5425V12.1328C8.37549 11.2549 8.72423 10.413 9.34497 9.79224C9.96572 9.17149 10.8076 8.82276 11.6855 8.82276H17.0953C17.9731 8.82276 18.815 9.17149 19.4358 9.79224C20.0565 10.413 20.4053 11.2549 20.4053 12.1328V17.5425Z" fill="white"/>
<path d="M17.0479 12.2059L17.0133 12.1712L16.9841 12.1421C16.2949 11.4553 15.3615 11.0699 14.3886 11.0703C13.8973 11.0737 13.4114 11.1738 12.9588 11.3649C12.5062 11.5561 12.0956 11.8346 11.7507 12.1844C11.4057 12.5343 11.1331 12.9487 10.9483 13.404C10.7636 13.8593 10.6703 14.3465 10.6739 14.8378C10.6732 15.8349 11.0662 16.792 11.7675 17.5008C12.1111 17.8485 12.5204 18.1243 12.9717 18.312C13.4229 18.4998 13.9071 18.5958 14.3959 18.5944C15.129 18.579 15.8419 18.3506 16.4474 17.9371C17.053 17.5235 17.5252 16.9427 17.8063 16.2654C18.0875 15.5881 18.1655 14.8437 18.0308 14.1228C17.8961 13.402 17.5546 12.7359 17.0479 12.2059ZM14.3886 17.3094C13.8983 17.3163 13.4171 17.1772 13.0061 16.9098C12.5952 16.6424 12.273 16.2589 12.0806 15.8079C11.8882 15.3569 11.8343 14.8589 11.9257 14.3772C12.0171 13.8955 12.2498 13.4519 12.594 13.1028C12.9382 12.7536 13.3785 12.5148 13.8589 12.4166C14.3392 12.3184 14.838 12.3653 15.2916 12.5513C15.7452 12.7373 16.1333 13.054 16.4065 13.4612C16.6796 13.8683 16.8255 14.3475 16.8255 14.8378C16.8279 15.1601 16.7668 15.4798 16.6456 15.7785C16.5244 16.0772 16.3455 16.3491 16.1192 16.5786C15.8929 16.8081 15.6236 16.9908 15.3266 17.1162C15.0297 17.2416 14.7109 17.3072 14.3886 17.3094Z" fill="white"/>
<path d="M19.2074 10.897C19.2083 11.014 19.1862 11.13 19.1423 11.2384C19.0984 11.3468 19.0335 11.4455 18.9514 11.5288C18.8693 11.6121 18.7715 11.6783 18.6638 11.7238C18.556 11.7693 18.4403 11.7931 18.3234 11.7938C18.2074 11.7937 18.0926 11.7707 17.9856 11.7259C17.8786 11.6812 17.7815 11.6157 17.7 11.5331C17.5765 11.4079 17.4925 11.2491 17.4584 11.0765C17.4244 10.9039 17.4417 10.7252 17.5082 10.5623C17.5748 10.3995 17.6877 10.2598 17.8329 10.1605C17.9781 10.0613 18.1493 10.0068 18.3252 10.0039C18.531 10.0039 18.7304 10.0761 18.8884 10.208L18.9066 10.2263C18.936 10.2502 18.9629 10.2771 18.9868 10.3065L19.0069 10.3283C19.1373 10.4891 19.2082 10.69 19.2074 10.897Z" fill="white"/>
<defs>
<linearGradient id="paint0_linear_11540_16667" x1="23.5" y1="25" x2="7.5" y2="3" gradientUnits="userSpaceOnUse">
<stop stop-color="#FAE100"/>
<stop offset="0.15" stop-color="#FCB720"/>
<stop offset="0.3" stop-color="#FF7950"/>
<stop offset="0.5" stop-color="#FF1C74"/>
<stop offset="1" stop-color="#6C1CD1"/>
</linearGradient>
</defs>
</svg>

`,
        },
        {
            key: 'threads',
            label: __( 'Threads', 'dokan-lite' ),
            url: social.threads,
            icon: `<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.945312" y="0.851562" width="27.87" height="27.87" rx="13.935" fill="black"/>
<path d="M18.9824 14.1589C18.9086 14.1235 18.8336 14.0895 18.7577 14.0569C18.6254 11.6192 17.2934 10.2236 15.0567 10.2093C15.0466 10.2092 15.0365 10.2092 15.0264 10.2092C13.6886 10.2092 12.576 10.7802 11.8912 11.8193L13.1213 12.6631C13.6328 11.887 14.4357 11.7215 15.027 11.7215C15.0338 11.7215 15.0407 11.7215 15.0474 11.7216C15.7839 11.7263 16.3396 11.9404 16.6993 12.3579C16.961 12.6619 17.1361 13.082 17.2227 13.6122C16.5698 13.5012 15.8637 13.4671 15.1088 13.5104C12.9823 13.6329 11.6153 14.8731 11.7071 16.5964C11.7537 17.4705 12.1892 18.2225 12.9333 18.7138C13.5624 19.1291 14.3727 19.3322 15.2148 19.2862C16.3269 19.2252 17.1993 18.8009 17.808 18.0251C18.2702 17.4359 18.5626 16.6723 18.6917 15.7103C19.2217 16.0301 19.6145 16.451 19.8314 16.957C20.2003 17.8171 20.2218 19.2306 19.0685 20.3829C18.058 21.3924 16.8434 21.8291 15.0078 21.8426C12.9716 21.8275 11.4316 21.1744 10.4304 19.9016C9.4928 18.7098 9.00825 16.9883 8.99018 14.7849C9.00825 12.5815 9.4928 10.8599 10.4304 9.66809C11.4316 8.39528 12.9716 7.74227 15.0078 7.72714C17.0587 7.74239 18.6255 8.39854 19.6651 9.67749C20.1748 10.3047 20.5592 11.0934 20.8125 12.013L22.254 11.6284C21.9469 10.4965 21.4636 9.52106 20.8061 8.71211C19.4734 7.07244 17.5242 6.23226 15.0128 6.21484H15.0027C12.4964 6.2322 10.5691 7.07558 9.27434 8.72151C8.12217 10.1862 7.52784 12.2242 7.50787 14.7788L7.50781 14.7849L7.50787 14.7909C7.52784 17.3455 8.12217 19.3836 9.27434 20.8483C10.5691 22.4941 12.4964 23.3376 15.0027 23.3549H15.0128C17.241 23.3394 18.8117 22.7561 20.1056 21.4633C21.7984 19.7721 21.7474 17.6522 21.1895 16.3508C20.7892 15.4175 20.026 14.6595 18.9824 14.1589ZM15.1352 17.7761C14.2032 17.8286 13.2349 17.4102 13.1872 16.5142C13.1518 15.8499 13.66 15.1086 15.1924 15.0203C15.3679 15.0101 15.5401 15.0052 15.7092 15.0052C16.2658 15.0052 16.7866 15.0593 17.26 15.1628C17.0834 17.3679 16.0477 17.726 15.1352 17.7761Z" fill="white"/>
</svg>
`,
        },
    ];

    // @ts-ignore
    socialPlatforms = wp.hooks.applyFilters(
        'dokan_admin_dashboard_social_platforms_map',
        socialPlatforms
    );
    const availablePlatforms = socialPlatforms.filter(
        ( platform ) => platform.url
    );

    if ( availablePlatforms.length === 0 ) {
        return (
            <p className="text-neutral-700 text-sm font-normal">
                { __( 'No Social Links Added', 'dokan-lite' ) }
            </p>
        );
    }

    return (
        <div className="flex flex-wrap items-center gap-1">
            { availablePlatforms.map( ( platform ) => (
                <Tooltip
                    content={ platform.label }
                    key={ platform.key }
                    direction="top"
                    contentClass="bg-gray-800 text-white p-2 rounded-md"
                >
                    <span>
                        <RawHTML
                            key={ platform.key + '_icon' }
                            className="w-7 h-7 flex hover:cursor-pointer"
                            aria-label={ platform.label }
                        >
                            { platform.icon }
                        </RawHTML>
                    </span>
                </Tooltip>
            ) ) }
        </div>
    );
};

export default SocialLinks;
